# HostForge - System Architecture

**Project:** DWSD Groep - Domein Discounter Billing Platform  
**Version:** 1.0  
**Last Updated:** 4 december 2025

---

## ðŸ“Š High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           CLIENT LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Public Website     â”‚              â”‚    Admin Panel       â”‚         â”‚
â”‚  â”‚   (Vue.js 3 SPA)     â”‚              â”‚   (Vue.js 3 SPA)     â”‚         â”‚
â”‚  â”‚                      â”‚              â”‚                      â”‚         â”‚
â”‚  â”‚  - Package Selection â”‚              â”‚  - Customer Mgmt     â”‚         â”‚
â”‚  â”‚  - Domain Search     â”‚              â”‚  - Order Approval    â”‚         â”‚
â”‚  â”‚  - Checkout Flow     â”‚              â”‚  - Billing Dashboard â”‚         â”‚
â”‚  â”‚  - Order Status      â”‚              â”‚  - Provisioning      â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚             â”‚                                     â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                                     â”‚
              â”‚ HTTP/JSON                           â”‚ HTTP/JSON + Auth Token
              â”‚                                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         API GATEWAY LAYER                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Public API         â”‚              â”‚    Admin API         â”‚          â”‚
â”‚  â”‚   /api/v1/*          â”‚              â”‚    /api/admin/*      â”‚          â”‚
â”‚  â”‚                      â”‚              â”‚                      â”‚          â”‚
â”‚  â”‚  - No Auth Required  â”‚              â”‚  - Sanctum Token Authâ”‚          â”‚
â”‚  â”‚  - Rate Limited      â”‚              â”‚  - Authorization     â”‚          â”‚
â”‚  â”‚  - CORS Enabled      â”‚              â”‚  - Audit Logging     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚             â”‚                                     â”‚                       â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                               â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       APPLICATION LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                    Controllers (Thin)                       â”‚          â”‚
â”‚  â”‚  - OrderController                                          â”‚          â”‚
â”‚  â”‚  - CustomerController                                       â”‚          â”‚
â”‚  â”‚  - BillingController                                        â”‚          â”‚
â”‚  â”‚  - AuthController                                           â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚              Form Requests (Validation)                     â”‚          â”‚
â”‚  â”‚  - CreateOrderRequest                                       â”‚          â”‚
â”‚  â”‚  - ApproveCustomerRequest                                   â”‚          â”‚
â”‚  â”‚  - UpdateOrderRequest                                       â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚              Action Classes (Single Purpose)                â”‚          â”‚
â”‚  â”‚  - CreateOrderAction                                        â”‚          â”‚
â”‚  â”‚  - ApproveOrderAction                                       â”‚          â”‚
â”‚  â”‚  - ProcessPaymentAction                                     â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                   Service Layer                             â”‚          â”‚
â”‚  â”‚                                                             â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚          â”‚
â”‚  â”‚  â”‚ Domain Services â”‚  â”‚ Integration Svcs â”‚                â”‚          â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                  â”‚                â”‚          â”‚
â”‚  â”‚  â”‚ - OrderService  â”‚  â”‚ - PleskService   â”‚                â”‚          â”‚
â”‚  â”‚  â”‚ - CustomerSvc   â”‚  â”‚ - OpenProvider   â”‚                â”‚          â”‚
â”‚  â”‚  â”‚ - BillingServiceâ”‚  â”‚ - MoneybirdSvc   â”‚                â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â”‚                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚              Repository Layer (Data Access)                 â”‚          â”‚
â”‚  â”‚  - OrderRepository                                          â”‚          â”‚
â”‚  â”‚  - CustomerRepository                                       â”‚          â”‚
â”‚  â”‚  - DomainRepository                                         â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                              â”‚                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          DATA LAYER                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                    PostgreSQL Database                      â”‚          â”‚
â”‚  â”‚                                                             â”‚          â”‚
â”‚  â”‚  Tables:                                                    â”‚          â”‚
â”‚  â”‚  - users                (Admin accounts)                    â”‚          â”‚
â”‚  â”‚  - customers            (Client accounts)                   â”‚          â”‚
â”‚  â”‚  - hosting_packages     (Product catalog)                   â”‚          â”‚
â”‚  â”‚  - orders               (Order management)                  â”‚          â”‚
â”‚  â”‚  - domains              (Domain registry)                   â”‚          â”‚
â”‚  â”‚  - personal_access_tokens (API tokens)                      â”‚          â”‚
â”‚  â”‚  - jobs                 (Queue jobs)                        â”‚          â”‚
â”‚  â”‚  - failed_jobs          (Failed job tracking)               â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          QUEUE/CACHE LAYER                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚                         Redis                               â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚  - Session Storage                                          â”‚           â”‚
â”‚  â”‚  - Cache (Hosting packages, config)                        â”‚           â”‚
â”‚  â”‚  - Queue Backend (Job processing)                          â”‚           â”‚
â”‚  â”‚  - Rate Limiting                                            â”‚           â”‚
â”‚  â”‚  - Circuit Breaker State                                   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       BACKGROUND JOBS LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚                    Queue Workers                            â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚  Jobs:                                                      â”‚           â”‚
â”‚  â”‚  - ProvisionHostingJob      â†’ Plesk API                    â”‚           â”‚
â”‚  â”‚  - RegisterDomainJob        â†’ OpenProvider API             â”‚           â”‚
â”‚  â”‚  - CreateInvoiceJob         â†’ Moneybird API                â”‚           â”‚
â”‚  â”‚  - SyncCustomerToMoneybirdJob â†’ Moneybird API              â”‚           â”‚
â”‚  â”‚                                                             â”‚           â”‚
â”‚  â”‚  Retry Policy: 3 attempts, 30-120s backoff                 â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     EXTERNAL SERVICES LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚   Plesk API      â”‚  â”‚ OpenProvider API â”‚  â”‚  Moneybird API   â”‚        â”‚
â”‚  â”‚                  â”‚  â”‚                  â”‚  â”‚                  â”‚        â”‚
â”‚  â”‚ - Create Users   â”‚  â”‚ - Check Domains  â”‚  â”‚ - Create Contact â”‚        â”‚
â”‚  â”‚ - Create Subs    â”‚  â”‚ - Register Domainâ”‚  â”‚ - Create Invoice â”‚        â”‚
â”‚  â”‚ - Manage DNS     â”‚  â”‚ - Renew Domain   â”‚  â”‚ - Track Payment  â”‚        â”‚
â”‚  â”‚ - Suspend/Resume â”‚  â”‚ - Transfer Domainâ”‚  â”‚ - Send Reminders â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ Request Flow Diagrams

### 1. Public Order Creation Flow

```
Customer                  Frontend              API               Services              Queue               External APIs
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  1. Select Package      â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  2. Search Domain       â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 3. POST          â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ /api/v1/domains/  â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚      check        â”‚ 4. DomainCheck    â”‚                     â”‚                      â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚   Service         â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 5. Check Domain     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   OpenProvider API   â”‚
   â”‚                         â”‚                   â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 6. Available: true  â”‚                      â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                     â”‚                      â”‚
   â”‚  7. Domain Available    â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  8. Fill Details        â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  & Submit Order         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 9. POST           â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ /api/v1/orders    â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 10. Validate      â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚    (FormRequest)  â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚ 11. CreateOrder   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚     Action        â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 12. Create Order    â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚     in Database     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚     (Repository)    â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚ 13. OrderCreated    â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚     Event           â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 14. Order HF-xxxxx  â”‚                      â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                     â”‚                      â”‚
   â”‚  15. Order Confirmed    â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  HF-xxxxx               â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                     â”‚                      â”‚
```

### 2. Admin Order Approval & Provisioning Flow

```
Admin                     Admin Panel           API               Services              Queue               External APIs
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  1. View Orders         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 2. GET            â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ /api/admin/orders â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ (with token)      â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 3. Auth Check     â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚    (Sanctum)      â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚ 4. Fetch Orders   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚    (Repository)   â”‚                     â”‚                      â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                     â”‚                      â”‚
   â”‚  5. Order List          â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚  6. Approve Order       â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 7. PATCH          â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ /api/admin/orders/â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚ {id}/status       â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 8. ApproveOrder   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚    Action         â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 9. Update Status    â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚    â†’ 'processing'   â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚ 10. Dispatch Jobs   â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚  - ProvisionHosting â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚  - RegisterDomain   â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚  - CreateInvoice    â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚  - SyncCustomer     â”‚                      â”‚
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                      â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ 11. Processing... â”‚                     â”‚                      â”‚
   â”‚  12. Order Processing   â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚ 13. Job: Provision   â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚     Hosting          â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   Plesk: Create      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   User + Subscriptionâ”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚ 14. Job: Register    â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚     Domain           â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   OpenProvider:      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   Register Domain    â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚ 15. Job: Create      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚     Invoice          â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   Moneybird:         â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚   Create Invoice     â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚ 16. Update Order     â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚     Status â†’ 'active'â”‚
   â”‚                         â”‚                   â”‚                   â”‚                     â”‚                      â”‚
```

### 3. Authentication Flow

```
Admin                     Frontend              API               Database
   â”‚                         â”‚                   â”‚                   â”‚
   â”‚  1. Enter Credentials   â”‚                   â”‚                   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 2. POST           â”‚                   â”‚
   â”‚                         â”‚ /api/auth/login   â”‚                   â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 3. Validate       â”‚
   â”‚                         â”‚                   â”‚    Credentials    â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚ 4. Create Token   â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚   (Sanctum)       â”‚
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
   â”‚  5. Token + User Info   â”‚                   â”‚                   â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚
   â”‚                         â”‚                   â”‚                   â”‚
   â”‚  6. Store Token         â”‚                   â”‚                   â”‚
   â”‚    (localStorage)       â”‚                   â”‚                   â”‚
   â”‚                         â”‚                   â”‚                   â”‚
   â”‚  7. API Request         â”‚                   â”‚                   â”‚
   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 8. Add Header:    â”‚                   â”‚
   â”‚                         â”‚ Authorization:    â”‚                   â”‚
   â”‚                         â”‚ Bearer {token}    â”‚                   â”‚
   â”‚                         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ 9. Verify Token   â”‚
   â”‚                         â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
   â”‚                         â”‚                   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
   â”‚                         â”‚                   â”‚ 10. Process       â”‚
   â”‚                         â”‚                   â”‚     Request       â”‚
   â”‚                         â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚
   â”‚  11. Response           â”‚                   â”‚                   â”‚
   â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚                   â”‚
```

---

## ðŸ—„ï¸ Database Schema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            users                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  bigint PK                                        â”‚
â”‚ name                varchar(255)                                     â”‚
â”‚ email               varchar(255) UNIQUE                              â”‚
â”‚ password            varchar(255)                                     â”‚
â”‚ email_verified_at   timestamp                                        â”‚
â”‚ created_at          timestamp                                        â”‚
â”‚ updated_at          timestamp                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ 1:N (has many tokens)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    personal_access_tokens                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  bigint PK                                        â”‚
â”‚ tokenable_type      varchar(255)                                    â”‚
â”‚ tokenable_id        bigint FK â†’ users.id                            â”‚
â”‚ name                varchar(255)                                     â”‚
â”‚ token               varchar(64) UNIQUE                               â”‚
â”‚ abilities           text                                             â”‚
â”‚ last_used_at        timestamp                                        â”‚
â”‚ expires_at          timestamp                                        â”‚
â”‚ created_at          timestamp                                        â”‚
â”‚ updated_at          timestamp                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          customers                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                    bigint PK                                      â”‚
â”‚ email                 varchar(255) UNIQUE                            â”‚
â”‚ first_name            varchar(255)                                   â”‚
â”‚ last_name             varchar(255)                                   â”‚
â”‚ company               varchar(255) NULL                              â”‚
â”‚ phone                 varchar(20)                                    â”‚
â”‚ address               varchar(255)                                   â”‚
â”‚ postal_code           varchar(20)                                    â”‚
â”‚ city                  varchar(255)                                   â”‚
â”‚ country               varchar(255)                                   â”‚
â”‚ vat_number            varchar(50) NULL                               â”‚
â”‚ status                enum('pending','active','suspended')           â”‚
â”‚ plesk_user_id         varchar(255) NULL                              â”‚
â”‚ moneybird_contact_id  varchar(255) NULL                              â”‚
â”‚ created_at            timestamp                                      â”‚
â”‚ updated_at            timestamp                                      â”‚
â”‚ deleted_at            timestamp NULL                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ 1:N (has many orders)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            orders                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                    bigint PK                                      â”‚
â”‚ customer_id           bigint FK â†’ customers.id                       â”‚
â”‚ hosting_package_id    bigint FK â†’ hosting_packages.id NULL           â”‚
â”‚ order_number          varchar(50) UNIQUE                             â”‚
â”‚ status                enum('pending','processing','active',          â”‚
â”‚                            'suspended','cancelled')                  â”‚
â”‚ subtotal              decimal(10,2)                                  â”‚
â”‚ tax                   decimal(10,2)                                  â”‚
â”‚ total                 decimal(10,2)                                  â”‚
â”‚ approved_at           timestamp NULL                                 â”‚
â”‚ provisioned_at        timestamp NULL                                 â”‚
â”‚ activated_at          timestamp NULL                                 â”‚
â”‚ moneybird_invoice_id  varchar(255) NULL                              â”‚
â”‚ created_at            timestamp                                      â”‚
â”‚ updated_at            timestamp                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                              â”‚
       â”‚ 1:N (has many domains)       â”‚ N:1 (belongs to package)
       â”‚                              â”‚
       â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                    â”‚       hosting_packages                     â”‚
       â”‚                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                    â”‚ id                bigint PK                â”‚
       â”‚                    â”‚ name              varchar(255)             â”‚
       â”‚                    â”‚ description       text                     â”‚
       â”‚                    â”‚ price             decimal(10,2)            â”‚
       â”‚                    â”‚ price_yearly      decimal(10,2)            â”‚
       â”‚                    â”‚ billing_period    enum('monthly','yearly') â”‚
       â”‚                    â”‚ disk_space_mb     int                      â”‚
       â”‚                    â”‚ bandwidth_gb      int                      â”‚
       â”‚                    â”‚ email_accounts    int                      â”‚
       â”‚                    â”‚ databases         int                      â”‚
       â”‚                    â”‚ domains           int                      â”‚
       â”‚                    â”‚ subdomains        int                      â”‚
       â”‚                    â”‚ active            boolean                  â”‚
       â”‚                    â”‚ created_at        timestamp                â”‚
       â”‚                    â”‚ updated_at        timestamp                â”‚
       â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            domains                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                       bigint PK                                   â”‚
â”‚ order_id                 bigint FK â†’ orders.id                       â”‚
â”‚ customer_id              bigint FK â†’ customers.id                    â”‚
â”‚ domain_name              varchar(255)                                â”‚
â”‚ tld                      varchar(50)                                 â”‚
â”‚ status                   enum('pending','active','expired',          â”‚
â”‚                               'cancelled')                           â”‚
â”‚ registered_at            timestamp NULL                              â”‚
â”‚ expires_at               timestamp NULL                              â”‚
â”‚ openprovider_domain_id   varchar(255) NULL                           â”‚
â”‚ plesk_domain_id          varchar(255) NULL                           â”‚
â”‚ created_at               timestamp                                   â”‚
â”‚ updated_at               timestamp                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              jobs                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  bigint PK                                        â”‚
â”‚ queue               varchar(255)                                     â”‚
â”‚ payload             longtext                                         â”‚
â”‚ attempts            tinyint                                          â”‚
â”‚ reserved_at         int NULL                                         â”‚
â”‚ available_at        int                                              â”‚
â”‚ created_at          int                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          failed_jobs                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id                  bigint PK                                        â”‚
â”‚ uuid                varchar(255) UNIQUE                              â”‚
â”‚ connection          text                                             â”‚
â”‚ queue               text                                             â”‚
â”‚ payload             longtext                                         â”‚
â”‚ exception           longtext                                         â”‚
â”‚ failed_at           timestamp                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“¦ Component Architecture

### Backend Components

```
app/
â”œâ”€â”€ Actions/                          # Single-purpose executable classes
â”‚   â”œâ”€â”€ Order/
â”‚   â”‚   â”œâ”€â”€ CreateOrderAction         â†’ Orchestrates order creation
â”‚   â”‚   â”œâ”€â”€ ApproveOrderAction        â†’ Handles order approval + dispatch jobs
â”‚   â”‚   â””â”€â”€ CancelOrderAction         â†’ Cancels order + cleanup
â”‚   â”œâ”€â”€ Customer/
â”‚   â”‚   â””â”€â”€ ApproveCustomerAction     â†’ Approves customer + events
â”‚   â””â”€â”€ Billing/
â”‚       â””â”€â”€ GenerateInvoiceAction     â†’ Creates invoice in Moneybird
â”‚
â”œâ”€â”€ DataTransferObjects/              # Type-safe data containers
â”‚   â”œâ”€â”€ OrderData                     â†’ Order creation data
â”‚   â”œâ”€â”€ CustomerData                  â†’ Customer registration data
â”‚   â””â”€â”€ DomainData                    â†’ Domain registration data
â”‚
â”œâ”€â”€ Events/                           # Domain events
â”‚   â”œâ”€â”€ Order/
â”‚   â”‚   â”œâ”€â”€ OrderCreated              â†’ Triggered on order creation
â”‚   â”‚   â”œâ”€â”€ OrderApproved             â†’ Triggered on approval
â”‚   â”‚   â””â”€â”€ OrderProvisioned          â†’ Triggered when fully provisioned
â”‚   â””â”€â”€ Customer/
â”‚       â””â”€â”€ CustomerApproved          â†’ Triggered on customer approval
â”‚
â”œâ”€â”€ Exceptions/                       # Custom exceptions
â”‚   â”œâ”€â”€ Domain/
â”‚   â”‚   â””â”€â”€ InvalidOrderStateException
â”‚   â””â”€â”€ Integration/
â”‚       â”œâ”€â”€ PleskApiException
â”‚       â”œâ”€â”€ OpenProviderApiException
â”‚       â””â”€â”€ MoneybirdApiException
â”‚
â”œâ”€â”€ Http/
â”‚   â”œâ”€â”€ Controllers/                  # Thin controllers (orchestration)
â”‚   â”‚   â”œâ”€â”€ Api/                      # Public API
â”‚   â”‚   â”‚   â”œâ”€â”€ HostingPackageController
â”‚   â”‚   â”‚   â”œâ”€â”€ DomainController
â”‚   â”‚   â”‚   â””â”€â”€ OrderController
â”‚   â”‚   â”œâ”€â”€ Admin/                    # Admin API (auth required)
â”‚   â”‚   â”‚   â”œâ”€â”€ CustomerController
â”‚   â”‚   â”‚   â”œâ”€â”€ OrderController
â”‚   â”‚   â”‚   â””â”€â”€ BillingController
â”‚   â”‚   â””â”€â”€ Auth/
â”‚   â”‚       â””â”€â”€ AuthController        # Login, logout, token mgmt
â”‚   â”‚
â”‚   â”œâ”€â”€ Middleware/
â”‚   â”‚   â”œâ”€â”€ EnsureIdempotency         # Prevent duplicate requests
â”‚   â”‚   â””â”€â”€ LogPerformance            # Track slow requests
â”‚   â”‚
â”‚   â”œâ”€â”€ Requests/                     # Validation logic
â”‚   â”‚   â”œâ”€â”€ CreateOrderRequest
â”‚   â”‚   â”œâ”€â”€ ApproveCustomerRequest
â”‚   â”‚   â””â”€â”€ LoginRequest
â”‚   â”‚
â”‚   â””â”€â”€ Resources/                    # API response formatting
â”‚       â”œâ”€â”€ OrderResource
â”‚       â”œâ”€â”€ CustomerResource
â”‚       â””â”€â”€ HostingPackageResource
â”‚
â”œâ”€â”€ Jobs/                             # Queue jobs
â”‚   â”œâ”€â”€ ProvisionHostingJob           â†’ Creates Plesk subscription
â”‚   â”œâ”€â”€ RegisterDomainJob             â†’ Registers domain via OpenProvider
â”‚   â”œâ”€â”€ CreateInvoiceJob              â†’ Creates Moneybird invoice
â”‚   â””â”€â”€ SyncCustomerToMoneybirdJob    â†’ Syncs customer to Moneybird
â”‚
â”œâ”€â”€ Listeners/                        # Event listeners
â”‚   â”œâ”€â”€ Order/
â”‚   â”‚   â”œâ”€â”€ SendOrderConfirmationEmail
â”‚   â”‚   â””â”€â”€ NotifyAdminOfNewOrder
â”‚   â””â”€â”€ Customer/
â”‚       â””â”€â”€ SyncToMoneybird
â”‚
â”œâ”€â”€ Models/                           # Eloquent models
â”‚   â”œâ”€â”€ User
â”‚   â”œâ”€â”€ Customer
â”‚   â”œâ”€â”€ HostingPackage
â”‚   â”œâ”€â”€ Order
â”‚   â””â”€â”€ Domain
â”‚
â”œâ”€â”€ Repositories/                     # Data access layer
â”‚   â”œâ”€â”€ Contracts/                    # Interfaces
â”‚   â”‚   â”œâ”€â”€ OrderRepositoryInterface
â”‚   â”‚   â”œâ”€â”€ CustomerRepositoryInterface
â”‚   â”‚   â””â”€â”€ DomainRepositoryInterface
â”‚   â””â”€â”€ Eloquent/                     # Implementations
â”‚       â”œâ”€â”€ OrderRepository
â”‚       â”œâ”€â”€ CustomerRepository
â”‚       â””â”€â”€ DomainRepository
â”‚
â””â”€â”€ Services/                         # Business logic
    â”œâ”€â”€ Domain/                       # Domain services
    â”‚   â”œâ”€â”€ OrderService              â†’ Order management logic
    â”‚   â”œâ”€â”€ CustomerService           â†’ Customer management
    â”‚   â””â”€â”€ BillingService            â†’ Billing calculations
    â”‚
    â””â”€â”€ Integration/                  # External API clients
        â”œâ”€â”€ PleskService              â†’ Plesk API wrapper
        â”œâ”€â”€ OpenProviderService       â†’ OpenProvider API wrapper
        â””â”€â”€ MoneybirdService          â†’ Moneybird API wrapper
```

### Frontend Components (Vue.js)

```
resources/js/src/
â”œâ”€â”€ api/                              # API client layer
â”‚   â”œâ”€â”€ client.ts                     â†’ Axios instance + interceptors
â”‚   â””â”€â”€ modules/
â”‚       â”œâ”€â”€ auth.ts                   â†’ Auth endpoints
â”‚       â”œâ”€â”€ orders.ts                 â†’ Order endpoints
â”‚       â”œâ”€â”€ customers.ts              â†’ Customer endpoints
â”‚       â””â”€â”€ packages.ts               â†’ Package endpoints
â”‚
â”œâ”€â”€ components/                       # Reusable components
â”‚   â”œâ”€â”€ ui/                           # Base UI components
â”‚   â”‚   â”œâ”€â”€ Button.vue
â”‚   â”‚   â”œâ”€â”€ Input.vue
â”‚   â”‚   â”œâ”€â”€ Card.vue
â”‚   â”‚   â””â”€â”€ Modal.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ forms/                        # Form components
â”‚   â”‚   â”œâ”€â”€ OrderForm.vue
â”‚   â”‚   â”œâ”€â”€ CustomerForm.vue
â”‚   â”‚   â””â”€â”€ DomainSearch.vue
â”‚   â”‚
â”‚   â””â”€â”€ layouts/                      # Layout components
â”‚       â”œâ”€â”€ PublicLayout.vue
â”‚       â””â”€â”€ AdminLayout.vue
â”‚
â”œâ”€â”€ composables/                      # Vue composables
â”‚   â”œâ”€â”€ useAuth.ts                    â†’ Authentication logic
â”‚   â”œâ”€â”€ useOrders.ts                  â†’ Order management
â”‚   â”œâ”€â”€ useCustomers.ts               â†’ Customer management
â”‚   â””â”€â”€ useNotifications.ts           â†’ Toast notifications
â”‚
â”œâ”€â”€ router/                           # Vue Router
â”‚   â””â”€â”€ index.ts                      â†’ Route definitions
â”‚
â”œâ”€â”€ stores/                           # Pinia stores
â”‚   â”œâ”€â”€ auth.ts                       â†’ Auth state
â”‚   â”œâ”€â”€ orders.ts                     â†’ Orders state
â”‚   â””â”€â”€ cart.ts                       â†’ Shopping cart state
â”‚
â”œâ”€â”€ types/                            # TypeScript types
â”‚   â”œâ”€â”€ api.ts                        â†’ API response types
â”‚   â”œâ”€â”€ models.ts                     â†’ Domain model types
â”‚   â””â”€â”€ enums.ts                      â†’ Enums (OrderStatus, etc.)
â”‚
â”œâ”€â”€ utils/                            # Utility functions
â”‚   â”œâ”€â”€ formatters.ts                 â†’ Date, currency formatters
â”‚   â””â”€â”€ validators.ts                 â†’ Form validators
â”‚
â”œâ”€â”€ views/                            # Page components
â”‚   â”œâ”€â”€ public/                       # Public pages
â”‚   â”‚   â”œâ”€â”€ Home.vue
â”‚   â”‚   â”œâ”€â”€ Packages.vue
â”‚   â”‚   â”œâ”€â”€ Checkout.vue
â”‚   â”‚   â””â”€â”€ OrderStatus.vue
â”‚   â”‚
â”‚   â””â”€â”€ admin/                        # Admin pages
â”‚       â”œâ”€â”€ Dashboard.vue
â”‚       â”œâ”€â”€ Customers.vue
â”‚       â”œâ”€â”€ Orders.vue
â”‚       â””â”€â”€ Billing.vue
â”‚
â””â”€â”€ App.vue                           # Root component
```

---

## ðŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Security Layers                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  Layer 1: Network Level                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - HTTPS/TLS encryption                                       â”‚   â”‚
â”‚  â”‚ - Firewall rules (only port 80/443)                          â”‚   â”‚
â”‚  â”‚ - DDoS protection                                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Layer 2: Application Level                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - CORS policy (whitelist origins)                            â”‚   â”‚
â”‚  â”‚ - Rate limiting (60 req/min public, 120 req/min admin)       â”‚   â”‚
â”‚  â”‚ - Input validation (Form Requests)                           â”‚   â”‚
â”‚  â”‚ - XSS prevention (Blade escaping)                            â”‚   â”‚
â”‚  â”‚ - CSRF protection (SPA + Sanctum)                            â”‚   â”‚
â”‚  â”‚ - SQL injection prevention (Eloquent ORM)                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Layer 3: Authentication & Authorization                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Laravel Sanctum (token-based auth)                         â”‚   â”‚
â”‚  â”‚ - Password hashing (bcrypt, rounds=12)                       â”‚   â”‚
â”‚  â”‚ - Token expiration                                            â”‚   â”‚
â”‚  â”‚ - Policy-based authorization                                 â”‚   â”‚
â”‚  â”‚ - 2FA for admin (future)                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Layer 4: Data Protection                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Encrypted .env file                                         â”‚   â”‚
â”‚  â”‚ - Database connection encryption                              â”‚   â”‚
â”‚  â”‚ - Secrets in environment variables                            â”‚   â”‚
â”‚  â”‚ - Mass assignment protection ($fillable)                      â”‚   â”‚
â”‚  â”‚ - Soft deletes for GDPR compliance                           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â”‚  Layer 5: Monitoring & Audit                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ - Activity logging (admin actions)                            â”‚   â”‚
â”‚  â”‚ - Failed login tracking                                       â”‚   â”‚
â”‚  â”‚ - Error tracking (Sentry)                                     â”‚   â”‚
â”‚  â”‚ - Security headers (HSTS, CSP)                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸš€ Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Production Environment                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      Load Balancer                            â”‚  â”‚
â”‚  â”‚                  (Kubernetes Ingress)                         â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  - SSL Termination                                            â”‚  â”‚
â”‚  â”‚  - Request routing                                            â”‚  â”‚
â”‚  â”‚  - Health checks                                              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚                              â”‚              â”‚              â”‚        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚    App Pod 1                  â”‚  â”‚ App Pod 2 â”‚  â”‚ App Pod 3  â”‚ â”‚
â”‚  â”‚                               â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚  - Laravel 11 + PHP 8.2       â”‚  â”‚ (replica) â”‚  â”‚ (replica)  â”‚ â”‚
â”‚  â”‚  - Nginx                      â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚  - Queue Worker (supervisor)  â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚                               â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚  Resources:                   â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚  - CPU: 500m - 2000m          â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â”‚  - Memory: 512Mi - 2Gi        â”‚  â”‚           â”‚  â”‚            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                              â”‚                                      â”‚
â”‚                              â”‚ (connects to)                        â”‚
â”‚                              â”‚                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚ PostgreSQL   â”‚  â”‚    Redis     â”‚  â”‚  Persistent       â”‚   â”‚  â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚  Storage (PVC)    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ - Port: 5432 â”‚  â”‚ - Port: 6379 â”‚  â”‚                  â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ - PVC: 50Gi  â”‚  â”‚ - Memory     â”‚  â”‚ - Uploads        â”‚   â”‚  â”‚
â”‚  â”‚  â”‚ - Replicated â”‚  â”‚ - Cache/Queueâ”‚  â”‚ - Logs           â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚                                                               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                       â”‚
â”‚  Auto-scaling Configuration:                                         â”‚
â”‚  - Min replicas: 2                                                   â”‚
â”‚  - Max replicas: 10                                                  â”‚
â”‚  - CPU threshold: 70%                                                â”‚
â”‚  - Memory threshold: 80%                                             â”‚
â”‚                                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

External Services (outside cluster):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Plesk API   â”‚  â”‚ OpenProvider    â”‚  â”‚  Moneybird     â”‚
â”‚              â”‚  â”‚     API         â”‚  â”‚     API        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Document Version:** 1.0  
**Maintained By:** Development Team  
**Review Frequency:** Monthly or on architectural changes
